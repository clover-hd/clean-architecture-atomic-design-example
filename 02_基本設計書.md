# ECã‚µã‚¤ãƒˆå­¦ç¿’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ åŸºæœ¬è¨­è¨ˆæ›¸

**æ–‡æ›¸ç•ªå·**: DESIGN-001
**ä½œæˆæ—¥**: 2025-09-18
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0 (TypeScriptå¯¾å¿œç‰ˆ)
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: ECã‚µã‚¤ãƒˆå­¦ç¿’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

---

## 1. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1.1 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```mermaid
graph TB
    subgraph "Browser Client"
        UI[User Interface]
    end

    subgraph "Express.js Application Server"
        subgraph "ğŸ”µ Presentation Layer"
            RT[Express Router]
            CTL[Controllers]
            MW[Middleware]
            EJS[EJS Templates]
        end

        subgraph "ğŸŸ¡ Application Layer"
            UC[Use Cases]
            SV[Services]
            VL[Validators]
        end

        subgraph "ğŸŸ¢ Domain Layer"
            EN[Entities]
            VO[Value Objects]
            DS[Domain Services]
            RI[Repository Interfaces]
        end

        subgraph "ğŸ”´ Infrastructure Layer"
            REPO[Repository Implementations]
            DB[SQLite Database]
            SS[Session Store]
            FS[File System]
        end
    end

    UI --> RT
    RT --> CTL
    CTL --> UC
    UC --> EN
    UC --> SV
    EN --> RI
    RI -.-> REPO
    REPO --> DB
    MW --> SS
    EJS --> UI

    style EN fill:#e8f5e8
    style UC fill:#fff9c4
    style CTL fill:#e3f2fd
    style REPO fill:#ffebee
```

### 1.2 ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®é–¢ä¿‚

#### 1.2.1 ä¾å­˜é–¢ä¿‚ã®æ–¹å‘
- **å¤–å´ã‹ã‚‰å†…å´ã¸**: Presentation â†’ Application â†’ Domain
- **ä¾å­˜é–¢ä¿‚é€†è»¢**: Domainå±¤ãŒInfrastructureå±¤ã‚’ç›´æ¥å‚ç…§ã—ãªã„
- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹é§†å‹•**: Repository Interfaceã‚’Domainå±¤ã§å®šç¾©

#### 1.2.2 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã®æ¦‚è¦
1. **ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡**: Express Router â†’ Controller
2. **ãƒ“ã‚¸ãƒã‚¹å‡¦ç†**: Controller â†’ UseCase â†’ Entity
3. **ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹**: Repository Interface â†’ Repository Implementation
4. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ**: Entity â†’ UseCase â†’ Controller â†’ EJSãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

---

## 2. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆï¼ˆTypeScriptå¼·åŒ–ç‰ˆï¼‰

### 2.1 TypeScriptå‹ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹è¨­è¨ˆåŸå‰‡å¼·åŒ–

#### 2.1.1 å‹å®‰å…¨æ€§ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚é€†è»¢ã®å¼·åŒ–
TypeScriptã®å‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ´»ç”¨ã—ã¦ã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆåŸå‰‡ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ä¿è¨¼ã—ã¾ã™ã€‚

```typescript
// Domainå±¤ã§ã®Interfaceå®šç¾©ï¼ˆå‹å®‰å…¨ãªæŠ½è±¡åŒ–ï¼‰
export interface IUserRepository {
  findById(id: string): Promise<User | null>;
  save(user: User): Promise<void>;
  findByEmail(email: string): Promise<User | null>;
}

// Infrastructureå±¤ã§ã®å…·ä½“å®Ÿè£…ï¼ˆå‹å¥‘ç´„ã®éµå®ˆï¼‰
export class UserRepository implements IUserRepository {
  async findById(id: string): Promise<User | null> {
    // SQLiteå®Ÿè£… - å‹å®‰å…¨æ€§ãŒä¿è¨¼ã•ã‚Œã‚‹
  }
}

// Applicationå±¤ã§ã®ä¾å­˜æ€§æ³¨å…¥ï¼ˆå‹ã«ã‚ˆã‚‹å¥‘ç´„ï¼‰
export class UserRegistrationUseCase {
  constructor(private userRepo: IUserRepository) {} // Interfaceä¾å­˜
}
```

#### 2.1.2 å‹ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹è¨­è¨ˆåŸå‰‡ã®å¯è¦–åŒ–
```typescript
// å„å±¤ã®å‹å®šç¾©ã«ã‚ˆã‚Šè²¬å‹™å¢ƒç•Œã‚’æ˜ç¢ºåŒ–
namespace Domain {
  export interface Entity {}
  export interface ValueObject {}
  export interface Repository {}
  export interface DomainService {}
}

namespace Application {
  export interface UseCase {}
  export interface ApplicationService {}
  export interface DTO {}
}

namespace Infrastructure {
  export interface ExternalService {}
  export interface DataAccess {}
}
```

### 2.2 4å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¦‚è¦ã¨è²¬å‹™

#### ğŸ”µ Presentation Layerï¼ˆè¡¨ç¾å±¤ï¼‰
```
è²¬å‹™: HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ã€UIè¡¨ç¤ºåˆ¶å¾¡
```
- **Express Router**: URLãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢é©ç”¨
- **Controllers**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†ã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆã®èª¿æ•´
- **Middleware**: èªè¨¼ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **EJS Templates**: ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã‚ˆã‚‹ç”»é¢æ§‹æˆ

#### ğŸŸ¡ Application Layerï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼‰
```
è²¬å‹™: ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ­ãƒ¼èª¿æ•´ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å¢ƒç•Œç®¡ç†
```
- **Use Cases**: å…·ä½“çš„ãªãƒ“ã‚¸ãƒã‚¹æ©Ÿèƒ½ã®å®Ÿç¾
- **Services**: è¤‡æ•°ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ã¾ãŸãŒã‚‹å‡¦ç†ã®èª¿æ•´
- **Validators**: å…¥åŠ›å€¤æ¤œè¨¼ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ç¢ºèª
- **DTOs**: å±¤é–“ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

#### ğŸŸ¢ Domain Layerï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼‰
```
è²¬å‹™: ã‚³ã‚¢ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†
```
- **Entities**: ãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã¨ãƒ«ãƒ¼ãƒ«ã‚’æŒã¤ä¸»è¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- **Value Objects**: å€¤ã§è­˜åˆ¥ã•ã‚Œã‚‹ä¸å¤‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- **Domain Services**: ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–“ã®è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- **Repository Interfaces**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®æŠ½è±¡åŒ–å®šç¾©

#### ğŸ”´ Infrastructure Layerï¼ˆã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤ï¼‰
```
è²¬å‹™: å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æºã€ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
```
- **Repository Implementations**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®å…·ä½“å®Ÿè£…
- **Database**: SQLiteã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- **Session Management**: Express Sessionã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†
- **File System**: é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç®¡ç†

### 2.2 ä¾å­˜é–¢ä¿‚ã®æ–¹å‘ã¨ä¾å­˜æ€§é€†è»¢åŸç†

```mermaid
flowchart TD
    subgraph "ä¾å­˜é–¢ä¿‚ã®æ–¹å‘"
        P[ğŸ”µ Presentation] --> A[ğŸŸ¡ Application]
        A --> D[ğŸŸ¢ Domain]
        I[ğŸ”´ Infrastructure] --> D
        I --> A
    end

    subgraph "ä¾å­˜æ€§é€†è»¢ã®å®Ÿè£…"
        D --> RI[Repository Interface<br/>Domainå±¤ã§å®šç¾©]
        RI -.-> IMPL[Repository Implementation<br/>Infrastructureå±¤ã§å®Ÿè£…]
    end

    style D fill:#e8f5e8
    style RI fill:#c8e6c9
    style IMPL fill:#ffcdd2
```

### 2.3 å„å±¤ã®ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### Controllersï¼ˆPresentation Layerï¼‰
- `HomeController`: ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¨å•†å“ä¸€è¦§
- `ProductController`: å•†å“è©³ç´°ã¨æ¤œç´¢
- `CartController`: ã‚«ãƒ¼ãƒˆæ“ä½œ
- `AuthController`: èªè¨¼å‡¦ç†
- `UserController`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- `AdminController`: ç®¡ç†æ©Ÿèƒ½

#### Use Casesï¼ˆApplication Layerï¼‰
- `ProductListUseCase`: å•†å“ä¸€è¦§å–å¾—
- `AddToCartUseCase`: ã‚«ãƒ¼ãƒˆè¿½åŠ å‡¦ç†
- `CheckoutUseCase`: æ³¨æ–‡å‡¦ç†
- `UserRegistrationUseCase`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- `LoginUseCase`: ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†

#### Entitiesï¼ˆDomain Layerï¼‰
- `User`: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã¨ãƒ«ãƒ¼ãƒ«
- `Product`: å•†å“æƒ…å ±ã¨åœ¨åº«ç®¡ç†
- `Cart`: ã‚«ãƒ¼ãƒˆè¨ˆç®—ã¨ãƒ«ãƒ¼ãƒ«
- `Order`: æ³¨æ–‡å‡¦ç†ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- `CartItem`: ã‚«ãƒ¼ãƒˆå•†å“é …ç›®

---

## 3. ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³è¨­è¨ˆ

### 3.1 5æ®µéšã®æ§‹æˆã¨è¨­è¨ˆæ€æƒ³

```mermaid
graph TD
    subgraph "Atomic Design Hierarchy"
        A[âš›ï¸ Atoms<br/>æœ€å°å˜ä½è¦ç´ ] --> M[ğŸ§¬ Molecules<br/>æ©Ÿèƒ½å˜ä½çµ„åˆã›]
        M --> O[ğŸ¦  Organisms<br/>è¤‡é›‘UIé ˜åŸŸ]
        O --> T[ğŸ“„ Templates<br/>ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéª¨æ ¼]
        T --> P[ğŸ“‘ Pages<br/>å®Œæˆãƒšãƒ¼ã‚¸]
    end

    subgraph "EJS Implementation"
        A --> AF[views/atoms/]
        M --> MF[views/molecules/]
        O --> OF[views/organisms/]
        T --> TF[views/templates/]
        P --> PF[views/pages/]
    end

    style A fill:#fdf0e6
    style M fill:#e8f5e8
    style O fill:#f3e5f5
    style T fill:#fff3e0
    style P fill:#e3f2fd
```

### 3.2 å„æ®µéšã®å½¹å‰²ã¨è²¬å‹™

#### âš›ï¸ Atomsï¼ˆåŸå­ï¼‰- æœ€å°å˜ä½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```
è²¬å‹™: å†åˆ©ç”¨å¯èƒ½ãªåŸºæœ¬UIè¦ç´ 
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: views/atoms/
```
- **Button**: `button.ejs` - ãƒœã‚¿ãƒ³è¦ç´ ã®åŸºæœ¬å½¢
- **Input**: `input.ejs` - å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åŸºæœ¬å½¢
- **Label**: `label.ejs` - ãƒ©ãƒ™ãƒ«è¦ç´ 
- **Link**: `link.ejs` - ãƒªãƒ³ã‚¯è¦ç´ 
- **Image**: `image.ejs` - ç”»åƒè¡¨ç¤ºè¦ç´ 

#### ğŸ§¬ Moleculesï¼ˆåˆ†å­ï¼‰- æ©Ÿèƒ½å˜ä½çµ„åˆã›
```
è²¬å‹™: Atomsã‚’çµ„ã¿åˆã‚ã›ãŸæ©Ÿèƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: views/molecules/
```
- **SearchForm**: `search-form.ejs` - æ¤œç´¢å…¥åŠ›+ãƒœã‚¿ãƒ³
- **ProductCard**: `product-card.ejs` - å•†å“ç”»åƒ+åå‰+ä¾¡æ ¼
- **LoginForm**: `login-form.ejs` - ãƒ­ã‚°ã‚¤ãƒ³å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
- **Pagination**: `pagination.ejs` - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³è¦ç´ 
- **CartSummary**: `cart-summary.ejs` - ã‚«ãƒ¼ãƒˆåˆè¨ˆè¡¨ç¤º

#### ğŸ¦  Organismsï¼ˆæœ‰æ©Ÿä½“ï¼‰- è¤‡é›‘ãªUIé ˜åŸŸ
```
è²¬å‹™: Moleculesã‚’çµ„ã¿åˆã‚ã›ãŸç”»é¢é ˜åŸŸ
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: views/organisms/
```
- **Header**: `header.ejs` - ãƒ˜ãƒƒãƒ€ãƒ¼å…¨ä½“ï¼ˆãƒŠãƒ“+æ¤œç´¢+ã‚«ãƒ¼ãƒˆï¼‰
- **ProductList**: `product-list.ejs` - å•†å“ä¸€è¦§è¡¨ç¤ºé ˜åŸŸ
- **Footer**: `footer.ejs` - ãƒ•ãƒƒã‚¿ãƒ¼æƒ…å ±ã¨ãƒªãƒ³ã‚¯
- **CartTable**: `cart-table.ejs` - ã‚«ãƒ¼ãƒˆå†…å®¹ãƒ†ãƒ¼ãƒ–ãƒ«
- **OrderForm**: `order-form.ejs` - æ³¨æ–‡å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“

#### ğŸ“„ Templatesï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéª¨æ ¼
```
è²¬å‹™: ãƒšãƒ¼ã‚¸å…¨ä½“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ å®šç¾©
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: views/templates/
```
- **BaseLayout**: `base.ejs` - åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼+ãƒ¡ã‚¤ãƒ³+ãƒ•ãƒƒã‚¿ãƒ¼ï¼‰
- **AdminLayout**: `admin.ejs` - ç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **AuthLayout**: `auth.ejs` - èªè¨¼ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

#### ğŸ“‘ Pagesï¼ˆãƒšãƒ¼ã‚¸ï¼‰- å®Œæˆãƒšãƒ¼ã‚¸
```
è²¬å‹™: å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒé…ç½®ã•ã‚ŒãŸå®Œæˆãƒšãƒ¼ã‚¸
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: views/pages/
```
- **HomePage**: `home.ejs` - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
- **ProductDetailPage**: `product-detail.ejs` - å•†å“è©³ç´°ãƒšãƒ¼ã‚¸
- **CartPage**: `cart.ejs` - ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸
- **CheckoutPage**: `checkout.ejs` - ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆãƒšãƒ¼ã‚¸
- **UserProfilePage**: `profile.ejs` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«

### 3.3 EJSãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®å®Ÿè£…æ–¹é‡

#### 3.3.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†åˆ©ç”¨æˆ¦ç•¥
```ejs
<%# Atomä½¿ç”¨ä¾‹ %>
<%- include('../atoms/button', { type: 'primary', text: 'è³¼å…¥ã™ã‚‹' }) %>

<%# Moleculeä½¿ç”¨ä¾‹ %>
<%- include('../molecules/product-card', { product: product }) %>

<%# Organismä½¿ç”¨ä¾‹ %>
<%- include('../organisms/header', { user: user, cartCount: cartCount }) %>
```

#### 3.3.2 ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ¸¡ã—è¦ç´„
- **Props**: ä¸Šä½ã‹ã‚‰ä¸‹ä½ã¸ã®å˜æ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
- **Naming**: kebab-caseï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åï¼‰ã€camelCaseï¼ˆå¤‰æ•°åï¼‰
- **Validation**: å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤è¨­å®š

---

## 4. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ§‹æˆ

### 4.1 æ¡ç”¨æŠ€è¡“ã¨ãã®ç†ç”±

#### 4.1.1 ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰æŠ€è¡“
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ¡ç”¨ç†ç”± | å­¦ç¿’åŠ¹æœ |
|------|------------|----------|----------|
| **Node.js** | v18+ | JavaScriptçµ±ä¸€ã€è»½é‡å®Ÿè¡Œç’°å¢ƒ | åŸºæœ¬æ¦‚å¿µç†è§£ |
| **TypeScript** | v5.x | å‹å®‰å…¨æ€§ã€é–‹ç™ºåŠ¹ç‡å‘ä¸Š | é™çš„å‹ã‚·ã‚¹ãƒ†ãƒ ç†è§£ |
| **Express.js** | v4.x | ã‚·ãƒ³ãƒ—ãƒ«ãªMVCãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£ |
| **EJS** | v3.x | JavaScriptçµ±åˆã€å­¦ç¿’æ›²ç·šç·©ã‚„ã‹ | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­è¨ˆ |
| **SQLite** | v3.x | è»½é‡DBã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸è¦ | SQLåŸºç¤ç¿’å¾— |

#### 4.1.2 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“
| æŠ€è¡“ | ç”¨é€” | å­¦ç¿’ç¯„å›² |
|------|------|----------|
| **HTML5** | ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ— | ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è€ƒæ…® |
| **CSS3** | ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ | ãƒ¢ãƒ€ãƒ³CSSæŠ€æ³• |
| **Vanilla JS** | ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ | DOMæ“ä½œåŸºç¤ |

#### 4.1.3 é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒ
| æŠ€è¡“ | ç›®çš„ | è¨­å®šå†…å®¹ |
|------|------|----------|
| **TypeScript** | å‹å®‰å…¨æ€§ | tsconfig.jsonè¨­å®šã€å‹ãƒã‚§ãƒƒã‚¯ |
| **ts-node** | é–‹ç™ºå®Ÿè¡Œ | TypeScriptç›´æ¥å®Ÿè¡Œç’°å¢ƒ |
| **Jest** | å˜ä½“ãƒ†ã‚¹ãƒˆ | TypeScriptå¯¾å¿œãƒ†ã‚¹ãƒˆè¨­å®š |
| **Supertest** | APIãƒ†ã‚¹ãƒˆ | TypeScriptå‹ä»˜ããƒ†ã‚¹ãƒˆ |
| **ESLint** | ã‚³ãƒ¼ãƒ‰å“è³ª | TypeScriptå¯¾å¿œLintãƒ«ãƒ¼ãƒ« |
| **Prettier** | ã‚³ãƒ¼ãƒ‰æ•´å½¢ | TypeScriptå½¢å¼çµ±ä¸€ |
| **@types/** | å‹å®šç¾© | ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£å‹æƒ…å ± |

### 4.2 æŠ€è¡“é–“ã®é€£æºæ–¹å¼

#### 4.2.1 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼é€£æº
```mermaid
sequenceDiagram
    participant Browser
    participant Express
    participant UseCase
    participant Entity
    participant SQLite

    Browser->>Express: HTTP Request
    Express->>UseCase: Business Logic
    UseCase->>Entity: Domain Rules
    Entity->>SQLite: Data Persistence
    SQLite-->>Entity: Data Response
    Entity-->>UseCase: Domain Object
    UseCase-->>Express: View Data
    Express-->>Browser: HTML Response
```

#### 4.2.2 ã‚»ãƒƒã‚·ãƒ§ãƒ³é€£æºæ–¹å¼
- **Express Session**: ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†
- **Cookieè¨­å®š**: HttpOnlyã€Secureè¨­å®šï¼ˆå­¦ç¿’ãƒ¬ãƒ™ãƒ«ï¼‰
- **CSRFå¯¾ç­–**: Basic token validation

### 4.3 TypeScripté–‹ç™ºç’°å¢ƒæ§‹æˆ

#### 4.3.1 TypeScriptè¨­å®šï¼ˆtsconfig.jsonï¼‰
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  },
  "include": ["src/**/*", "types/**/*"],
  "exclude": ["node_modules", "dist", "tests/**/*"]
}
```

#### 4.3.2 ç’°å¢ƒåˆ†é›¢æˆ¦ç•¥
```
é–‹ç™ºç’°å¢ƒ: TypeScript + ts-node + SQLite + ãƒ¡ãƒ¢ãƒªã‚»ãƒƒã‚·ãƒ§ãƒ³
ãƒ†ã‚¹ãƒˆç’°å¢ƒ: TypeScript + Jest + SQLite in-memory + ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
ãƒ“ãƒ«ãƒ‰ç’°å¢ƒ: TypeScript â†’ JavaScript + dist/ å‡ºåŠ›
```

#### 4.3.3 è¨­å®šç®¡ç†ï¼ˆTypeScriptå¯¾å¿œï¼‰
```typescript
// config/environment.ts
interface EnvironmentConfig {
  database: string;
  session: {
    secret: string;
    maxAge: number;
  };
  server: {
    port: number;
    host: string;
  };
}

const config: Record<string, EnvironmentConfig> = {
  development: {
    database: './db/development.sqlite',
    session: {
      secret: 'dev-secret',
      maxAge: 1000 * 60 * 60 * 24
    },
    server: {
      port: 3000,
      host: 'localhost'
    }
  },
  test: {
    database: ':memory:',
    session: {
      secret: 'test-secret',
      maxAge: 1000 * 60 * 60
    },
    server: {
      port: 3001,
      host: 'localhost'
    }
  }
};

export default config;
```

---

## 5. å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆï¼ˆTypeScriptå¯¾å¿œï¼‰

### 5.1 å‹å®‰å…¨ãªAPIè¨­è¨ˆæ–¹é‡

#### 5.1.1 TypeScript DTOã«ã‚ˆã‚‹å‹å®‰å…¨ãªå±¤é–“é€šä¿¡
```typescript
// ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹å®šç¾©
export interface CreateUserRequestDTO {
  email: string;
  password: string;
  name: string;
}

export interface UserResponseDTO {
  id: string;
  email: string;
  name: string;
  createdAt: string;
}

export interface ProductListResponseDTO {
  products: ProductSummaryDTO[];
  pagination: PaginationDTO;
}

// Controllerå±¤ã§ã®å‹å®‰å…¨ãªãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
export class UserController {
  async createUser(
    req: TypedRequest<CreateUserRequestDTO>,
    res: TypedResponse<UserResponseDTO>
  ): Promise<void> {
    // å‹å®‰å…¨æ€§ãŒä¿è¨¼ã•ã‚ŒãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†
  }
}
```

#### 5.1.2 DTOã¨Entityé–“ã®å‹å¤‰æ›ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// Domain Entity
export class User {
  constructor(
    public readonly id: UserId,
    public readonly email: Email,
    public readonly name: UserName,
    private readonly createdAt: Date
  ) {}
}

// DTOå¤‰æ›è²¬å‹™ã®æ˜ç¢ºåŒ–
export class UserDTOMapper {
  static toResponseDTO(user: User): UserResponseDTO {
    return {
      id: user.id.value,
      email: user.email.value,
      name: user.name.value,
      createdAt: user.createdAt.toISOString()
    };
  }

  static fromRequestDTO(dto: CreateUserRequestDTO): CreateUserCommand {
    return new CreateUserCommand(
      dto.email,
      dto.password,
      dto.name
    );
  }
}
```

### 5.2 HTTPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ¦‚è¦

#### 5.1.1 RESTful APIè¨­è¨ˆ
```mermaid
graph LR
    subgraph "Public Endpoints"
        GET1[GET /]
        GET2[GET /products]
        GET3[GET /products/:id]
        POST1[POST /cart]
        GET4[GET /cart]
    end

    subgraph "Auth Required"
        GET5[GET /profile]
        POST2[POST /orders]
        GET6[GET /orders]
    end

    subgraph "Admin Only"
        GET7[GET /admin]
        POST3[POST /admin/products]
        PUT1[PUT /admin/products/:id]
        DELETE1[DELETE /admin/products/:id]
    end
```

#### 5.1.2 ä¸»è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè©³ç´°

| Method | Endpoint | Controller | UseCase | èª¬æ˜ |
|--------|----------|------------|---------|------|
| GET | / | HomeController | ProductListUseCase | ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ |
| GET | /products | ProductController | ProductListUseCase | å•†å“ä¸€è¦§ |
| GET | /products/:id | ProductController | ProductDetailUseCase | å•†å“è©³ç´° |
| POST | /cart | CartController | AddToCartUseCase | ã‚«ãƒ¼ãƒˆè¿½åŠ  |
| POST | /auth/login | AuthController | LoginUseCase | ãƒ­ã‚°ã‚¤ãƒ³ |
| POST | /auth/register | AuthController | UserRegistrationUseCase | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² |
| POST | /orders | OrderController | CheckoutUseCase | æ³¨æ–‡å‡¦ç† |

### 5.2 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæ–¹å¼

#### 5.2.1 SQLiteæ¥ç¶šã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```mermaid
graph TB
    subgraph "Data Access Layer"
        REPO[Repository Implementation]
        CONN[Database Connection Pool]
        QUERY[Query Builder]
    end

    subgraph "SQLite Database"
        USERS[users table]
        PRODUCTS[products table]
        ORDERS[orders table]
        CART[cart_items table]
    end

    REPO --> CONN
    CONN --> QUERY
    QUERY --> USERS
    QUERY --> PRODUCTS
    QUERY --> ORDERS
    QUERY --> CART

    style REPO fill:#ffebee
    style CONN fill:#e8f5e8
```

#### 5.2.2 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ¦‚è¦
```sql
-- ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ï¼ˆç°¡ç•¥ç‰ˆï¼‰
CREATE TABLE users (
    id INTEGER PRIMARY KEY,
    email TEXT UNIQUE,
    password_hash TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE products (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    price INTEGER NOT NULL,
    stock INTEGER DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE orders (
    id INTEGER PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    total INTEGER NOT NULL,
    status TEXT DEFAULT 'pending',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 5.3 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†æ–¹å¼ï¼ˆTypeScriptå¯¾å¿œï¼‰

#### 5.3.1 å‹å®‰å…¨ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
```typescript
// ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹å®šç¾©
export interface UserSession {
  userId: string;
  email: string;
  role: 'user' | 'admin';
  loginAt: string;
  csrfToken: string;
}

// Express Sessionå‹æ‹¡å¼µ
declare module 'express-session' {
  interface SessionData {
    user?: UserSession;
    cart?: CartSession;
  }
}

// å‹å®‰å…¨ãªã‚»ãƒƒã‚·ãƒ§ãƒ³è¨­å®š
export const sessionConfig: SessionOptions = {
  secret: process.env.SESSION_SECRET!,
  resave: false,
  saveUninitialized: false,
  store: new MemoryStore(), // å­¦ç¿’ç”¨ï¼šæœ¬ç•ªã§ã¯ Redisç­‰ã‚’ä½¿ç”¨
  cookie: {
    maxAge: 1000 * 60 * 60 * 24, // 24æ™‚é–“
    httpOnly: true,
    secure: process.env.NODE_ENV === 'production'
  }
};

// ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹
export class SessionService {
  static setUserSession(req: Request, user: User): void {
    req.session.user = {
      userId: user.id.value,
      email: user.email.value,
      role: user.role.value,
      loginAt: new Date().toISOString(),
      csrfToken: this.generateCSRFToken()
    };
  }

  static getUserSession(req: Request): UserSession | null {
    return req.session.user || null;
  }

  static clearSession(req: Request): void {
    req.session.destroy((err) => {
      if (err) {
        console.error('Session destruction error:', err);
      }
    });
  }

  private static generateCSRFToken(): string {
    return crypto.randomBytes(32).toString('hex');
  }
}
```

#### 5.3.2 èªè¨¼ãƒ•ãƒ­ãƒ¼
```mermaid
sequenceDiagram
    participant User
    participant Browser
    participant Server
    participant Session

    User->>Browser: Login Form Submit
    Browser->>Server: POST /auth/login
    Server->>Session: Validate Credentials
    Session-->>Server: Authentication Result

    alt Authentication Success
        Server->>Session: Store User Info
        Server-->>Browser: Redirect to Dashboard
        Browser-->>User: Show Authenticated Page
    else Authentication Failed
        Server-->>Browser: Show Error Message
        Browser-->>User: Login Form with Error
    end
```

---

## 6. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»ï¼ˆTypeScriptå­¦ç¿’çµ±åˆï¼‰

### 6.1 6é€±é–“ã®é–‹ç™ºè¨ˆç”»ï¼ˆTypeScriptå­¦ç¿’ãƒ•ã‚§ãƒ¼ã‚ºè¿½åŠ ï¼‰

#### ğŸ“… Week 1: TypeScriptåŸºç¤ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸºç›¤æ§‹ç¯‰
**ç›®æ¨™**: TypeScriptç’°å¢ƒæ§‹ç¯‰ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®4å±¤æ§‹é€ å®Ÿè£…
- **Day 1**: TypeScriptç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€tsconfig.jsonè¨­å®š
- **Day 2**: TypeScriptåŸºæœ¬å‹ã‚·ã‚¹ãƒ†ãƒ å­¦ç¿’ã€Interfaceè¨­è¨ˆ
- **Day 3-4**: Domainå±¤ï¼ˆTypeScript Entity, Repository Interfaceï¼‰å®Ÿè£…
- **Day 5-7**: Infrastructureå±¤ï¼ˆå‹å®‰å…¨Repository Implementation, DBæ¥ç¶šï¼‰å®Ÿè£…

**æˆæœç‰©**:
- TypeScripté–‹ç™ºç’°å¢ƒå®Œæˆ
- å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 
- å‹å®‰å…¨ãªåŸºæœ¬Entityã‚¯ãƒ©ã‚¹ï¼ˆUser, Productï¼‰
- å‹åˆ¶ç´„ä»˜ãRepositoryå®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ

**å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**:
- TypeScriptåŸºæœ¬æ§‹æ–‡ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è¨­å®š
- ä¾å­˜é–¢ä¿‚é€†è»¢åŸç†ã®å‹å®‰å…¨ãªå®Ÿè£…
- Interfaceé§†å‹•è¨­è¨ˆã®ç†è§£

#### ğŸ“… Week 2: TypeScriptå‹å®šç¾©è¨­è¨ˆã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
**ç›®æ¨™**: å‹å®‰å…¨ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ã¨DTOè¨­è¨ˆ
- **Day 1**: TypeScripté«˜åº¦å‹ã‚·ã‚¹ãƒ†ãƒ ï¼ˆGenericã€Conditional Typesï¼‰å­¦ç¿’
- **Day 2**: DTOå‹å®šç¾©ã¨Mapperè¨­è¨ˆ
- **Day 3-4**: Applicationå±¤ï¼ˆå‹å®‰å…¨UseCaseï¼‰è¨­è¨ˆãƒ»å®Ÿè£…
- **Day 5-7**: Presentationå±¤ï¼ˆå‹åˆ¶ç´„Controllerï¼‰åŸºæœ¬å®Ÿè£…

**æˆæœç‰©**:
- åŒ…æ‹¬çš„ãªDTOå‹å®šç¾©ã‚·ã‚¹ãƒ†ãƒ 
- å‹å®‰å…¨ãªä¸»è¦UseCaseå®Ÿè£…ï¼ˆProductList, UserRegistrationï¼‰
- TypeScriptãƒ™ãƒ¼ã‚¹ControlleråŸºæœ¬æ©Ÿèƒ½
- å‹åˆ¶ç´„ä»˜ãèªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

**å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**:
- TypeScripté«˜åº¦å‹ã‚·ã‚¹ãƒ†ãƒ ã®ç†è§£
- é–¢å¿ƒã®åˆ†é›¢ã¨ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®å‹å®‰å…¨ãªå”èª¿
- DTOâ†’Entityå¤‰æ›ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¿’å¾—

#### ğŸ“… Week 3: ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³å®Ÿè£…
**ç›®æ¨™**: EJSãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³æ§‹ç¯‰
- **Day 1-2**: Atomsï¼ˆButton, Inputç­‰ï¼‰å®Ÿè£…
- **Day 3-4**: Moleculesï¼ˆProductCard, SearchFormç­‰ï¼‰å®Ÿè£…
- **Day 5-7**: Organismsï¼ˆHeader, Footerç­‰ï¼‰å®Ÿè£…

**æˆæœç‰©**:
- å®Œå…¨ãªAtoms/Molecules/Organismsãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰

**å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ€æƒ³ã®ç¿’å¾—

#### ğŸ“… Week 4: æ©Ÿèƒ½çµ±åˆã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
**ç›®æ¨™**: Pages/Templateså±¤ã¨ãƒ•ãƒ«æ©Ÿèƒ½å®Ÿè£…
- **Day 1-2**: Templatesï¼ˆBaseLayoutç­‰ï¼‰å®Ÿè£…
- **Day 3-4**: Pagesï¼ˆå•†å“ä¸€è¦§ã€è©³ç´°ã€ã‚«ãƒ¼ãƒˆï¼‰å®Ÿè£…
- **Day 5-7**: ç®¡ç†è€…æ©Ÿèƒ½å®Ÿè£…

**æˆæœç‰©**:
- å®Œæˆã•ã‚ŒãŸãƒšãƒ¼ã‚¸ç¾¤
- ç®¡ç†ç”»é¢
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ•ãƒ­ãƒ¼

**å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯çµ±åˆç†è§£

#### ğŸ“… Week 5: TypeScriptãƒ†ã‚¹ãƒˆå®Ÿè£…ã¨å‹å®‰å…¨æ€§æ¤œè¨¼
**ç›®æ¨™**: å‹å®‰å…¨ãªãƒ†ã‚¹ãƒˆå®Ÿè£…ã¨å“è³ªä¿è¨¼
- **Day 1-2**: TypeScriptå˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆDomain, Applicationå±¤ï¼‰
- **Day 3-4**: å‹åˆ¶ç´„ä»˜ãçµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆAPI, UIï¼‰
- **Day 5-7**: TypeScriptå“è³ªãƒã‚§ãƒƒã‚¯ã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

**æˆæœç‰©**:
- å‹å®‰å…¨ãªåŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
- TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã‚ˆã‚‹é™çš„æ¤œè¨¼
- å­¦ç¿’æŒ¯ã‚Šè¿”ã‚Šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**:
- TypeScriptãƒ†ã‚¹ãƒˆæˆ¦ç•¥ç†è§£
- å‹ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹å“è³ªä¿è¨¼
- é™çš„å‹ãƒã‚§ãƒƒã‚¯ã¨å®Ÿè¡Œæ™‚ãƒ†ã‚¹ãƒˆã®å½¹å‰²åˆ†æ‹…ç†è§£

#### ğŸ“… Week 6: æ®µéšçš„ç§»è¡Œè¨ˆç”»å®Ÿè·µã¨ç·åˆè©•ä¾¡
**ç›®æ¨™**: JavaScriptâ†’TypeScriptæ®µéšçš„ç§»è¡Œã®å®Ÿè·µã¨å­¦ç¿’åŠ¹æœæ¸¬å®š
- **Day 1-2**: ãƒ¬ã‚¬ã‚·ãƒ¼ã‚³ãƒ¼ãƒ‰ç§»è¡Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **Day 3-4**: TypeScriptæœ€é©åŒ–ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´
- **Day 5-7**: ç·åˆè©•ä¾¡ã¨TypeScriptå­¦ç¿’åŠ¹æœæ¸¬å®š

**æˆæœç‰©**:
- æ®µéšçš„ç§»è¡Œè¨ˆç”»å®Ÿè£…ä¾‹
- TypeScriptåŒ–ã«ã‚ˆã‚‹é–‹ç™ºåŠ¹ç‡æ¸¬å®šãƒ¬ãƒãƒ¼ãƒˆ
- ç·åˆå­¦ç¿’åŠ¹æœè©•ä¾¡ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**:
- æ®µéšçš„ç§»è¡Œæˆ¦ç•¥ã®ç†è§£ã¨å®Ÿè·µ
- TypeScriptå°å…¥ROIã®å®šé‡çš„è©•ä¾¡
- å‹å®‰å…¨ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®ç·åˆç†è§£

### 6.2 å„ãƒ•ã‚§ãƒ¼ã‚ºã®ç›®æ¨™ã¨æˆæœç‰©

#### 6.2.1 æŠ€è¡“ç¿’å¾—ç›®æ¨™ï¼ˆTypeScriptçµ±åˆç‰ˆï¼‰
| Phase | TypeScript | Clean Architecture | Atomic Design | Express MVC |
|-------|------------|-------------------|---------------|-------------|
| Week 1 | åŸºæœ¬æ§‹æ–‡ãƒ»ç’°å¢ƒæ§‹ç¯‰ | å‹å®‰å…¨4å±¤åˆ†é›¢å®Ÿè£… | - | åŸºæœ¬æ§‹é€  |
| Week 2 | é«˜åº¦å‹ã‚·ã‚¹ãƒ†ãƒ ãƒ»DTO | å‹åˆ¶ç´„UseCaseè¨­è¨ˆ | - | å‹å®‰å…¨Controller |
| Week 3 | - | - | 5æ®µéšå®Ÿè£… | Viewçµ±åˆ |
| Week 4 | å®Ÿç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ | çµ±åˆãƒ†ã‚¹ãƒˆ | Pageå®Œæˆ | ãƒ•ãƒ«æ©Ÿèƒ½ |
| Week 5 | ãƒ†ã‚¹ãƒˆå‹å®šç¾© | å‹å®‰å…¨ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ | æœ€é©åŒ– | å“è³ªå‘ä¸Š |
| Week 6 | ç§»è¡Œæˆ¦ç•¥ãƒ»æœ€é©åŒ– | ç·åˆè©•ä¾¡ | å®Œæˆåº¦è©•ä¾¡ | é‹ç”¨è©•ä¾¡ |

#### 6.2.2 å“è³ªæŒ‡æ¨™ï¼ˆTypeScriptæ‹¡å¼µï¼‰
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ ç‡**: 95%ä»¥ä¸Š
- **å‹å®‰å…¨æ€§ã‚«ãƒãƒ¬ãƒƒã‚¸**: å…¨Interfaceãƒ»Entityãƒ»DTOã§100%
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†åˆ©ç”¨ç‡**: 80%ä»¥ä¸Š
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: Domainå±¤90%ã€ãã®ä»–70%ä»¥ä¸Š
- **TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼**: 0ä»¶
- **ESLintã‚¨ãƒ©ãƒ¼**: 0ä»¶ï¼ˆTypeScriptå¯¾å¿œãƒ«ãƒ¼ãƒ«é©ç”¨ï¼‰
- **å‹æ³¨é‡ˆã‚«ãƒãƒ¬ãƒƒã‚¸**: public API 100%ã€å†…éƒ¨å®Ÿè£…85%ä»¥ä¸Š

### 6.3 å­¦ç¿’ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼ˆTypeScriptçµ±åˆï¼‰

#### ğŸ“ TypeScriptåŸºç¤ç†è§£åº¦ãƒã‚§ãƒƒã‚¯
- [ ] TypeScriptåŸºæœ¬å‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ç†è§£ãƒ»ä½¿ç”¨ã§ãã‚‹
- [ ] Interfaceè¨­è¨ˆã«ã‚ˆã‚ŠæŠ½è±¡åŒ–ãŒã§ãã‚‹
- [ ] Genericãƒ»Conditional Typesç­‰é«˜åº¦å‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã§ãã‚‹
- [ ] æ®µéšçš„å‹å°å…¥æˆ¦ç•¥ã‚’ç«‹æ¡ˆãƒ»å®Ÿè¡Œã§ãã‚‹
- [ ] å‹å®‰å…¨ãªDTOâ†’Entityå¤‰æ›ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…ã§ãã‚‹

#### ğŸ¯ å‹å®‰å…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£åº¦ãƒã‚§ãƒƒã‚¯
- [ ] 4å±¤ã®è²¬å‹™ã‚’å‹åˆ¶ç´„ã«ã‚ˆã‚Šæ˜ç¢ºã«åˆ†é›¢ã§ãã‚‹
- [ ] ä¾å­˜é–¢ä¿‚é€†è»¢åŸç†ã‚’å‹å®‰å…¨ã«å®Ÿè£…ã§ãã‚‹
- [ ] Repository Patternã‚’å‹åˆ¶ç´„ä»˜ãã§æ­£ã—ãä½¿ç”¨ã§ãã‚‹
- [ ] Domainå±¤ã®å‹å®‰å…¨ãªãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã‚’ç¢ºä¿ã§ãã‚‹
- [ ] å±¤é–“é€šä¿¡ã‚’DTOå‹å®šç¾©ã«ã‚ˆã‚Šå‹å®‰å…¨ã«å®Ÿè£…ã§ãã‚‹

#### ğŸ¨ ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³ç†è§£åº¦ãƒã‚§ãƒƒã‚¯
- [ ] 5æ®µéšã®å½¹å‰²åˆ†æ‹…ã‚’èª¬æ˜ã§ãã‚‹
- [ ] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†åˆ©ç”¨ç‡80%ä»¥ä¸Šã‚’é”æˆ
- [ ] Propsæ¸¡ã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é©åˆ‡ã«ä½¿ç”¨ã§ãã‚‹
- [ ] ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰ä½œæˆãŒã§ãã‚‹

#### ğŸ› ï¸ TypeScript Express MVCç†è§£åº¦ãƒã‚§ãƒƒã‚¯
- [ ] å‹å®‰å…¨ãªRouter/Controller/Modelåˆ†é›¢ã‚’å®Ÿè£…ã§ãã‚‹
- [ ] å‹åˆ¶ç´„ä»˜ããƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢è¨­è¨ˆãŒã§ãã‚‹
- [ ] å‹å®‰å…¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã‚’é©åˆ‡ã«å®Ÿè£…ã§ãã‚‹
- [ ] TypeScriptå‹å®šç¾©ã«ã‚ˆã‚‹RESTful APIè¨­è¨ˆãŒã§ãã‚‹
- [ ] Request/Responseå‹å®‰å…¨æ€§ã‚’ä¿è¨¼ã§ãã‚‹

---

## 7. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

### 7.1 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆTypeScriptå¯¾å¿œç‰ˆï¼‰

```
ecommerce-learning-project/
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .eslintrc.json
â”œâ”€â”€ tsconfig.json                 # TypeScriptè¨­å®š
â”œâ”€â”€ jest.config.js                # TypeScriptå¯¾å¿œãƒ†ã‚¹ãƒˆè¨­å®š
â”‚
â”œâ”€â”€ src/                          # TypeScriptã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ app.ts                    # Express ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚   â”œâ”€â”€ server.ts                 # ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/              # ğŸ”µ Presentation Layer
â”‚   â”‚   â”œâ”€â”€ HomeController.ts
â”‚   â”‚   â”œâ”€â”€ ProductController.ts
â”‚   â”‚   â”œâ”€â”€ CartController.ts
â”‚   â”‚   â”œâ”€â”€ AuthController.ts
â”‚   â”‚   â”œâ”€â”€ UserController.ts
â”‚   â”‚   â””â”€â”€ AdminController.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ usecases/                 # ğŸŸ¡ Application Layer
â”‚   â”‚   â”œâ”€â”€ ProductListUseCase.ts
â”‚   â”‚   â”œâ”€â”€ AddToCartUseCase.ts
â”‚   â”‚   â”œâ”€â”€ CheckoutUseCase.ts
â”‚   â”‚   â”œâ”€â”€ UserRegistrationUseCase.ts
â”‚   â”‚   â””â”€â”€ LoginUseCase.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ entities/                 # ğŸŸ¢ Domain Layer
â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”œâ”€â”€ Product.ts
â”‚   â”‚   â”œâ”€â”€ Cart.ts
â”‚   â”‚   â”œâ”€â”€ Order.ts
â”‚   â”‚   â”œâ”€â”€ CartItem.ts
â”‚   â”‚   â””â”€â”€ value-objects/        # Value Objects
â”‚   â”‚       â”œâ”€â”€ UserId.ts
â”‚   â”‚       â”œâ”€â”€ Email.ts
â”‚   â”‚       â”œâ”€â”€ Price.ts
â”‚   â”‚       â””â”€â”€ ProductId.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ interfaces/               # ğŸŸ¢ Domain Layer (å‹å®‰å…¨æŠ½è±¡åŒ–)
â”‚   â”‚   â”œâ”€â”€ IUserRepository.ts
â”‚   â”‚   â”œâ”€â”€ IProductRepository.ts
â”‚   â”‚   â”œâ”€â”€ IOrderRepository.ts
â”‚   â”‚   â””â”€â”€ ICartRepository.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ repositories/             # ğŸ”´ Infrastructure Layer
â”‚   â”‚   â”œâ”€â”€ UserRepository.ts
â”‚   â”‚   â”œâ”€â”€ ProductRepository.ts
â”‚   â”‚   â”œâ”€â”€ OrderRepository.ts
â”‚   â”‚   â””â”€â”€ CartRepository.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # ğŸŸ¡ Application Layer
â”‚   â”‚   â”œâ”€â”€ EmailService.ts
â”‚   â”‚   â”œâ”€â”€ ValidationService.ts
â”‚   â”‚   â””â”€â”€ SessionService.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/               # ğŸ”µ Presentation Layer
â”‚   â”‚   â”œâ”€â”€ authMiddleware.ts
â”‚   â”‚   â”œâ”€â”€ adminMiddleware.ts
â”‚   â”‚   â”œâ”€â”€ errorMiddleware.ts
â”‚   â”‚   â””â”€â”€ sessionMiddleware.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/                   # ğŸ”µ Presentation Layer
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ products.ts
â”‚   â”‚   â”œâ”€â”€ cart.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ admin.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ dto/                      # ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”œâ”€â”€ request/              # ãƒªã‚¯ã‚¨ã‚¹ãƒˆDTO
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateUserRequestDTO.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginRequestDTO.ts
â”‚   â”‚   â”‚   â””â”€â”€ AddToCartRequestDTO.ts
â”‚   â”‚   â”œâ”€â”€ response/             # ãƒ¬ã‚¹ãƒãƒ³ã‚¹DTO
â”‚   â”‚   â”‚   â”œâ”€â”€ UserResponseDTO.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductListResponseDTO.ts
â”‚   â”‚   â”‚   â””â”€â”€ CartResponseDTO.ts
â”‚   â”‚   â””â”€â”€ mappers/              # DTOâ†”Entityå¤‰æ›
â”‚   â”‚       â”œâ”€â”€ UserDTOMapper.ts
â”‚   â”‚       â”œâ”€â”€ ProductDTOMapper.ts
â”‚   â”‚       â””â”€â”€ CartDTOMapper.ts
â”‚   â”‚
â”‚   â””â”€â”€ config/                   # ğŸ”´ Infrastructure Layer
â”‚       â”œâ”€â”€ database.ts
â”‚       â”œâ”€â”€ session.ts
â”‚       â””â”€â”€ environment.ts
â”‚
â”œâ”€â”€ views/                        # EJS ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
â”‚   â”œâ”€â”€ atoms/                    # âš›ï¸ æœ€å°å˜ä½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ button.ejs
â”‚   â”‚   â”œâ”€â”€ input.ejs
â”‚   â”‚   â”œâ”€â”€ label.ejs
â”‚   â”‚   â”œâ”€â”€ link.ejs
â”‚   â”‚   â””â”€â”€ image.ejs
â”‚   â”‚
â”‚   â”œâ”€â”€ molecules/                # ğŸ§¬ æ©Ÿèƒ½å˜ä½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ search-form.ejs
â”‚   â”‚   â”œâ”€â”€ product-card.ejs
â”‚   â”‚   â”œâ”€â”€ login-form.ejs
â”‚   â”‚   â”œâ”€â”€ pagination.ejs
â”‚   â”‚   â””â”€â”€ cart-summary.ejs
â”‚   â”‚
â”‚   â”œâ”€â”€ organisms/                # ğŸ¦  è¤‡é›‘ãªUIé ˜åŸŸ
â”‚   â”‚   â”œâ”€â”€ header.ejs
â”‚   â”‚   â”œâ”€â”€ product-list.ejs
â”‚   â”‚   â”œâ”€â”€ footer.ejs
â”‚   â”‚   â”œâ”€â”€ cart-table.ejs
â”‚   â”‚   â””â”€â”€ order-form.ejs
â”‚   â”‚
â”‚   â”œâ”€â”€ templates/                # ğŸ“„ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéª¨æ ¼
â”‚   â”‚   â”œâ”€â”€ base.ejs
â”‚   â”‚   â”œâ”€â”€ admin.ejs
â”‚   â”‚   â””â”€â”€ auth.ejs
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                    # ğŸ“‘ å®Œæˆãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ home.ejs
â”‚   â”‚   â”œâ”€â”€ product-detail.ejs
â”‚   â”‚   â”œâ”€â”€ cart.ejs
â”‚   â”‚   â”œâ”€â”€ checkout.ejs
â”‚   â”‚   â”œâ”€â”€ profile.ejs
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â”œâ”€â”€ dashboard.ejs
â”‚   â”‚       â”œâ”€â”€ products.ejs
â”‚   â”‚       â””â”€â”€ orders.ejs
â”‚   â”‚
â”‚   â””â”€â”€ partials/                 # å…±é€šãƒ‘ãƒ¼ãƒ„
â”‚       â”œâ”€â”€ head.ejs
â”‚       â”œâ”€â”€ scripts.ejs
â”‚       â””â”€â”€ error-messages.ejs
â”‚
â”œâ”€â”€ public/                       # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ atoms.css
â”‚   â”‚   â”œâ”€â”€ molecules.css
â”‚   â”‚   â”œâ”€â”€ organisms.css
â”‚   â”‚   â”œâ”€â”€ templates.css
â”‚   â”‚   â””â”€â”€ main.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â””â”€â”€ images/
â”‚       â”œâ”€â”€ products/
â”‚       â””â”€â”€ ui/
â”‚
â”œâ”€â”€ db/                           # SQLite ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ seeds/
â”‚   â””â”€â”€ development.sqlite
â”‚
â”œâ”€â”€ types/                        # TypeScriptå‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ express/                  # Expressæ‹¡å¼µå‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ request.d.ts
â”‚   â”‚   â”œâ”€â”€ response.d.ts
â”‚   â”‚   â””â”€â”€ session.d.ts
â”‚   â”œâ”€â”€ common/                   # å…±é€šå‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ api.d.ts
â”‚   â”‚   â”œâ”€â”€ pagination.d.ts
â”‚   â”‚   â””â”€â”€ error.d.ts
â”‚   â””â”€â”€ global.d.ts               # ã‚°ãƒ­ãƒ¼ãƒãƒ«å‹å®šç¾©
â”‚
â”œâ”€â”€ dist/                         # TypeScriptãƒ“ãƒ«ãƒ‰å‡ºåŠ›
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ types/
â”‚
â”œâ”€â”€ tests/                        # TypeScriptå¯¾å¿œãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ unit/                     # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ Product.test.ts
â”‚   â”‚   â”œâ”€â”€ usecases/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRegistrationUseCase.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ ProductListUseCase.test.ts
â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚       â”œâ”€â”€ UserRepository.test.ts
â”‚   â”‚       â””â”€â”€ ProductRepository.test.ts
â”‚   â”œâ”€â”€ integration/              # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserController.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ ProductController.test.ts
â”‚   â”‚   â””â”€â”€ routes/
â”‚   â”‚       â”œâ”€â”€ auth.test.ts
â”‚   â”‚       â””â”€â”€ products.test.ts
â”‚   â”œâ”€â”€ fixtures/                 # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â”œâ”€â”€ sample-data.ts
â”‚   â”‚   â””â”€â”€ test-entities.ts
â”‚   â””â”€â”€ helpers/                  # ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚       â”œâ”€â”€ database-helper.ts
â”‚       â”œâ”€â”€ auth-helper.ts
â”‚       â””â”€â”€ mock-factories.ts
â”‚
â”œâ”€â”€ docs/                         # è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ 01_è¦ä»¶å®šç¾©æ›¸.md
â”‚   â”œâ”€â”€ 02_åŸºæœ¬è¨­è¨ˆæ›¸.md
â”‚   â”œâ”€â”€ business-flows.md
â”‚   â””â”€â”€ api-specification.md
â”‚
â””â”€â”€ scripts/                      # é–‹ç™ºãƒ»é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    â”œâ”€â”€ setup.js
    â”œâ”€â”€ seed-data.js
    â””â”€â”€ cleanup.js
```

### 7.2 ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡ï¼ˆTypeScriptæ‹¡å¼µï¼‰

#### 7.2.1 TypeScriptãƒ•ã‚¡ã‚¤ãƒ«å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³
| ç¨®é¡ | ãƒ‘ã‚¿ãƒ¼ãƒ³ | ä¾‹ |
|------|----------|-----|
| **Controllers** | `{Feature}Controller.ts` | `ProductController.ts` |
| **Use Cases** | `{Action}{Feature}UseCase.ts` | `AddToCartUseCase.ts` |
| **Entities** | `{Entity}.ts` | `User.ts`, `Product.ts` |
| **Value Objects** | `{ValueObject}.ts` | `UserId.ts`, `Email.ts` |
| **Repositories** | `{Entity}Repository.ts` | `UserRepository.ts` |
| **Interfaces** | `I{Entity}Repository.ts` | `IUserRepository.ts` |
| **DTOs** | `{Entity}{Type}DTO.ts` | `CreateUserRequestDTO.ts` |
| **Mappers** | `{Entity}DTOMapper.ts` | `UserDTOMapper.ts` |
| **å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«** | `{domain}.d.ts` | `express/session.d.ts` |
| **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«** | `{Target}.test.ts` | `User.test.ts` |
| **EJS Templates** | `kebab-case.ejs` | `product-card.ejs` |
| **CSS** | `kebab-case.css` | `product-list.css` |

#### 7.2.2 TypeScriptå¤‰æ•°ãƒ»é–¢æ•°å‘½åè¦ç´„
```typescript
// Classes: PascalCase
class UserController {}
class ProductRepository {}

// Interfaces: PascalCase with I prefix
interface IUserRepository {}
interface CreateUserRequestDTO {}

// Types: PascalCase
type UserId = string;
type UserRole = 'user' | 'admin';

// Functions/Methods: camelCase withå‹æ³¨é‡ˆ
function getUserById(id: string): Promise<User | null> {}
async function validateUserInput(input: unknown): Promise<boolean> {}

// Constants: UPPER_SNAKE_CASE withå‹æ³¨é‡ˆ
const MAX_CART_ITEMS: number = 10;
const SESSION_TIMEOUT: number = 1000 * 60 * 60;

// Variables: camelCase withå‹æ³¨é‡ˆ
const userProfile: UserResponseDTO = {};
let cartItems: CartItem[] = [];

// Generic Types: PascalCase
interface Repository<T extends Entity> {}
type ApiResponse<T> = { data: T; success: boolean };
```

#### 7.2.3 TypeScriptå‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```typescript
// types/common/api.d.ts - APIå…±é€šå‹å®šç¾©
export interface BaseResponse {
  success: boolean;
  message?: string;
  timestamp: string;
}

export interface ApiResponse<T> extends BaseResponse {
  data: T;
}

export interface PaginatedResponse<T> extends BaseResponse {
  data: T[];
  pagination: {
    page: number;
    limit: number;
    total: number;
    totalPages: number;
  };
}

// types/express/request.d.ts - Expresså‹æ‹¡å¼µ
declare global {
  namespace Express {
    interface Request {
      user?: UserSession;
      csrfToken?: string;
    }
  }
}

// Request/Responseå‹å®‰å…¨åŒ–
export interface TypedRequest<T> extends Request {
  body: T;
}

export interface TypedResponse<T> extends Response {
  json(body: ApiResponse<T>): this;
}
```

### 7.3 è²¬å‹™åˆ†å‰²æ–¹é‡

#### 7.3.1 ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®è²¬å‹™å¢ƒç•Œ
```mermaid
graph TD
    subgraph "è²¬å‹™åˆ†å‰²å¢ƒç•Œ"
        P[ğŸ”µ Presentation<br/>HTTPå‡¦ç†ã¨UIåˆ¶å¾¡ã®ã¿]
        A[ğŸŸ¡ Application<br/>ãƒ“ã‚¸ãƒã‚¹ãƒ•ãƒ­ãƒ¼èª¿æ•´ã®ã¿]
        D[ğŸŸ¢ Domain<br/>ã‚³ã‚¢ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®ã¿]
        I[ğŸ”´ Infrastructure<br/>å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æºã®ã¿]
    end

    P --> A
    A --> D
    I --> D

    style P fill:#e3f2fd
    style A fill:#fff9c4
    style D fill:#e8f5e8
    style I fill:#ffebee
```

#### 7.3.2 å˜ä¸€è²¬ä»»åŸå‰‡ã®é©ç”¨
- **Controller**: 1ã¤ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¾ãŸã¯æ©Ÿèƒ½é ˜åŸŸã‚’æ‹…å½“
- **UseCase**: 1ã¤ã®æ˜ç¢ºãªãƒ“ã‚¸ãƒã‚¹æ©Ÿèƒ½ã‚’å®Ÿç¾
- **Entity**: 1ã¤ã®ãƒ“ã‚¸ãƒã‚¹æ¦‚å¿µã¨ãã®ä¸å¤‰æ¡ä»¶ã‚’ç®¡ç†
- **Repository**: 1ã¤ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ‹…å½“

#### 7.3.3 é–‹æ”¾é–‰é–åŸå‰‡ã®è€ƒæ…®
- **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ**: æ©Ÿèƒ½æ‹¡å¼µæ™‚ã«Interfaceè¿½åŠ ã§å¯¾å¿œ
- **è¨­å®šå¤–éƒ¨åŒ–**: ç’°å¢ƒå›ºæœ‰è¨­å®šã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢
- **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­è¨ˆ**: ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«ã‚ˆã‚‹æ©Ÿèƒ½æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆæä¾›

---

## 8. å“è³ªä¿è¨¼ã¨è¨­è¨ˆæŒ‡é‡ï¼ˆTypeScriptå¼·åŒ–ç‰ˆï¼‰

### 8.1 TypeScriptå‹å®‰å…¨æ€§ã«ã‚ˆã‚‹è¨­è¨ˆå“è³ªæŒ‡æ¨™
- **å‹å®‰å…¨æ€§**: å…¨public APIã§100%å‹æ³¨é‡ˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼0ä»¶
- **å‹ã‚«ãƒãƒ¬ãƒƒã‚¸**: Entityãƒ»DTOãƒ»Repository Interfaceå®Œå…¨å‹å®šç¾©
- **å¾ªç’°è¤‡é›‘åº¦**: é–¢æ•°ã‚ãŸã‚Š10ä»¥ä¸‹ï¼ˆTypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒã‚§ãƒƒã‚¯ï¼‰
- **ã‚¯ãƒ©ã‚¹çµåˆåº¦**: Interfaceä¾å­˜ã«ã‚ˆã‚‹ç–çµåˆå®Ÿç¾
- **ãƒ¬ã‚¤ãƒ¤ãƒ¼å¢ƒç•Œ**: å‹åˆ¶ç´„ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚æ–¹å‘ã®å¼·åˆ¶ä¿è¨¼
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†åˆ©ç”¨ç‡**: Atomicãƒ‡ã‚¶ã‚¤ãƒ³éšå±¤ã§80%ä»¥ä¸Š

### 8.2 TypeScriptä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§æŒ‡é‡
- **å‹ã«ã‚ˆã‚‹å¤‰æ›´å½±éŸ¿ã®å¯è¦–åŒ–**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚‹å½±éŸ¿ç¯„å›²æ¤œå‡º
- **Interfaceé§†å‹•è¨­è¨ˆ**: å¤‰æ›´ã«å¯¾ã™ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ãƒ»ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰åŸå‰‡ã®å‹ãƒ¬ãƒ™ãƒ«ä¿è¨¼
- **å‹å®‰å…¨ãªè¨­å®šç®¡ç†**: ç’°å¢ƒè¨­å®šã®å‹å®šç¾©ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼é˜²æ­¢
- **ãƒ†ã‚¹ãƒˆå‹å®‰å…¨æ€§**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å‹åˆ¶ç´„ã«ã‚ˆã‚‹å“è³ªå‘ä¸Š
- **å‹å®šç¾©ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã‚ˆã‚‹ç”ŸããŸAPIä»•æ§˜

### 8.3 TypeScriptå­¦ç¿’åŠ¹æœæœ€å¤§åŒ–æ–¹é‡
- **æ®µéšçš„å‹å°å…¥**: JavaScriptâ†’TypeScriptç§»è¡Œãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¿’å¾—
- **å‹ã‚·ã‚¹ãƒ†ãƒ ç†è§£**: åŸºæœ¬å‹ã‹ã‚‰é«˜åº¦å‹ã‚·ã‚¹ãƒ†ãƒ ã¾ã§ã®æ®µéšçš„ç¿’å¾—
- **å®Ÿè·µçš„å‹å®‰å…¨**: å®Ÿéš›ã®ECã‚µã‚¤ãƒˆæ©Ÿèƒ½ã§ã®å‹å®‰å…¨æ€§ä½“é¨“
- **å‹é§†å‹•é–‹ç™º**: å‹å®šç¾©ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ç¿’å¾—
- **å‹è¨­è¨ˆæ€è€ƒ**: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã¨å‹è¨­è¨ˆã®é€£æºç†è§£

### 8.4 æ®µéšçš„ç§»è¡Œè¨ˆç”»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

#### 8.4.1 JavaScriptâ†’TypeScriptç§»è¡Œæ®µéš
```typescript
// Phase 1: åŸºæœ¬å‹æ³¨é‡ˆå°å…¥
interface User {
  id: string;
  email: string;
  name: string;
}

// Phase 2: å³å¯†å‹ãƒã‚§ãƒƒã‚¯æœ‰åŠ¹åŒ–
// tsconfig.json: "strict": true

// Phase 3: é«˜åº¦å‹ã‚·ã‚¹ãƒ†ãƒ å°å…¥
interface Repository<T extends Entity> {
  findById(id: EntityId<T>): Promise<T | null>;
  save(entity: T): Promise<void>;
}

// Phase 4: å‹å®‰å…¨APIè¨­è¨ˆ
export class UserController {
  async createUser(
    req: TypedRequest<CreateUserRequestDTO>,
    res: TypedResponse<UserResponseDTO>
  ): Promise<void> {
    // å®Œå…¨ãªå‹å®‰å…¨æ€§ã‚’ä¿è¨¼
  }
}
```

#### 8.4.2 ç§»è¡Œå„ªå…ˆé †ä½æˆ¦ç•¥
1. **Phase 1**: Domainå±¤Entityãƒ»Value Objectå‹å®šç¾©
2. **Phase 2**: Repository Interfaceå‹åˆ¶ç´„å°å…¥
3. **Phase 3**: Applicationå±¤UseCaseå‹å®‰å…¨åŒ–
4. **Phase 4**: Presentationå±¤DTOãƒ»Controllerå‹å®šç¾©
5. **Phase 5**: Infrastructureå±¤å®Ÿè£…å‹åˆ¶ç´„
6. **Phase 6**: çµ±åˆãƒ†ã‚¹ãƒˆå‹å®‰å…¨åŒ–

---

**æ‰¿èªè€…**: [å­¦ç¿’è€…å]
**æ‰¿èªæ—¥**: [æ‰¿èªæ—¥ä»˜]
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼**: è©³ç´°è¨­è¨ˆæ›¸ä½œæˆå¾Œ

---

## é–¢é€£æ–‡æ›¸
- `01_è¦ä»¶å®šç¾©æ›¸.md`: ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ã¨å­¦ç¿’ç›®æ¨™
- `business-flows.md`: æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¯¾å¿œ
- `03_è©³ç´°è¨­è¨ˆæ›¸_TypeScript.md`: TypeScriptè©³ç´°å®Ÿè£…è¨­è¨ˆï¼ˆä½œæˆäºˆå®šï¼‰
- `04_TypeScriptå®Ÿè£…ã‚¬ã‚¤ãƒ‰.md`: TypeScripté–‹ç™ºæ‰‹é †æ›¸ï¼ˆä½œæˆäºˆå®šï¼‰
- `05_TypeScriptç§»è¡Œã‚¬ã‚¤ãƒ‰.md`: æ®µéšçš„ç§»è¡Œæˆ¦ç•¥ï¼ˆä½œæˆäºˆå®šï¼‰

## TypeScriptå­¦ç¿’å‚è€ƒè³‡æ–™
- [TypeScriptå…¬å¼ãƒãƒ³ãƒ‰ãƒ–ãƒƒã‚¯](https://www.typescriptlang.org/docs/)
- [Clean Architecture with TypeScript](https://github.com/microsoft/TypeScript/wiki)
- [Express TypeScript Starter](https://github.com/microsoft/TypeScript-Node-Starter)
- [å‹å®‰å…¨ãªNode.jsé–‹ç™ºãƒ‘ã‚¿ãƒ¼ãƒ³](https://basarat.gitbook.io/typescript/)